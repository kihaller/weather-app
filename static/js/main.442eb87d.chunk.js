(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),o=n.n(r),i=(n(14),n(6)),m=n(1),l=n.n(m),s=n(3),d=n(5);function u(e){return Math.floor(5*(e-32)/9)}function p(e,t){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(n,"&exclude=minutely,hourly,alerts&appid=21f56e253e93188fc5823fc00953aca4&units=imperial")).then((function(e){return e.json()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){for(var t,n={currentTemp:e.current.temp,minTemp:e.daily[0].temp.min,maxTemp:e.daily[0].temp.max,conditionName:e.current.weather[0].description,conditionIcon:e.current.weather[0].icon},a=[],c=1;c<5;c++)a.push({day:(t=e.daily[c].dt,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*t).getDay()]),minTemp:e.daily[c].temp.min,maxTemp:e.daily[c].temp.max,conditionName:e.daily[c].weather[0].description,conditionIcon:e.daily[c].weather[0].icon});return[n,a]}var h=Object(a.createContext)(),v=function(e){var t=Object(a.useState)([{name:"Costa Mesa, CA",selected:!0,lat:33.6638,lon:-117.9047,today:{currentTemp:68,minTemp:59,maxTemp:77,conditionName:"clear sky",conditionIcon:"01d"},forecasts:[{day:"Sunday",minTemp:55,maxTemp:80,conditionName:"clear sky",conditionIcon:"01d"},{day:"Monday",minTemp:55,maxTemp:80,conditionName:"clear sky",conditionIcon:"01d"},{day:"Tuesday",minTemp:55,maxTemp:80,conditionName:"clear sky",conditionIcon:"01d"},{day:"Wednesday",minTemp:55,maxTemp:80,conditionName:"clear sky",conditionIcon:"01d"}]},{name:"San Francisco, CA",selected:!1,lat:37.7749,lon:-122.4194,today:{currentTemp:81,minTemp:67,maxTemp:85,conditionName:"clear sky",conditionIcon:"01d"},forecasts:[]},{name:"New York, NY",selected:!1,lat:40.7128,lon:-74.006,today:{currentTemp:78,minTemp:72,maxTemp:78,conditionName:"scattered clouds",conditionIcon:"03d"},forecasts:[]},{name:"Miami, FL",selected:!1,lat:25.7617,lon:-80.1918,today:{currentTemp:85,minTemp:80,maxTemp:85,conditionName:"few clouds",conditionIcon:"02d"},forecasts:[]}]),n=Object(d.a)(t,2),r=n[0],o=n[1],m=Object(a.useState)(r[0]),u=Object(d.a)(m,2),y=u[0],v=u[1];Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map(function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a,c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.lat,t.lon);case 2:return n=e.sent,a=f(n),c=Object(d.a)(a,2),r=c[0],o=c[1],e.abrupt("return",{name:t.name,lat:t.lat,lon:t.lon,selected:t.selected,today:r,forecasts:o});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,o(t),v(t.filter((function(e){return e.selected}))[0]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return c.a.createElement(h.Provider,{value:{cities:r,selectedCity:y,changeSelectedCity:function(e){var t=Object(i.a)(r);t.forEach((function(t){e===t.name?t.selected=!0:t.selected=!1})),o(t),v(t.filter((function(e){return e.selected}))[0])}}},e.children)},T=function(){var e=Object(a.useContext)(h).selectedCity,t=e.today.conditionIcon,n=e.today.conditionName,r=e.today.currentTemp,o=e.today.minTemp,i=e.today.maxTemp;return c.a.createElement("div",{className:"selected-city"},c.a.createElement("h1",null,e.name),c.a.createElement("div",{className:"selected-city-temp"},c.a.createElement("img",{src:"images/".concat(t,".svg"),alt:n}),c.a.createElement("span",{className:"current-temp"},u(r),"\xb0C"),c.a.createElement("span",{className:"current-temp temp-imperial"},Math.floor(r),"\xb0F"),c.a.createElement("span",{className:"temp-range"},u(o),"\xb0C - ",u(i),"\xb0C"),c.a.createElement("span",{className:"temp-range temp-imperial"},Math.floor(o),"\xb0F - ",Math.floor(i),"\xb0F")))},E=function(e){var t=e.city,n=Object(a.useContext)(h).changeSelectedCity,r=t.today.conditionIcon,o=t.today.conditionName,i=t.today.currentTemp;return c.a.createElement("div",{onClick:function(){return n(t.name)},className:"city ".concat(t.selected?"selected":null)},c.a.createElement("h3",null,t.name),c.a.createElement("img",{src:"images/".concat(r,".svg"),alt:o}),c.a.createElement("span",null,u(i),"\xb0C /",c.a.createElement("span",{className:"temp-imperial"}," ",Math.floor(i),"\xb0F")))},N=function(){var e=Object(a.useContext)(h).cities;return c.a.createElement("div",{className:"city-selector"},e.map((function(e,t){return c.a.createElement(E,{city:e,key:t})})))},x=function(e){var t=e.forecast,n=t.conditionIcon,a=t.conditionName,r=t.minTemp,o=t.maxTemp;return c.a.createElement("div",{className:"daily-forecast"},c.a.createElement("h2",null,t.day),c.a.createElement("img",{src:"images/".concat(n,".svg"),alt:a}),c.a.createElement("span",null,u(r),"\xb0C - ",u(o),"\xb0C"),c.a.createElement("span",{className:"temp-imperial"},Math.floor(r),"\xb0F - ",Math.floor(o),"\xb0F"))},w=function(){var e=Object(a.useContext)(h).selectedCity;return c.a.createElement("div",{className:"forecast"},e.forecasts.map((function(e,t){return c.a.createElement(x,{forecast:e,key:t})})))};var g=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(v,null,c.a.createElement(N,null),c.a.createElement(T,null),c.a.createElement(w,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.442eb87d.chunk.js.map